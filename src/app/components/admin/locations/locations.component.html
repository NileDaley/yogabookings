<!-- Loading spinner -->
<div *ngIf="loading; else content">
  <div class="section has-text-centered">
    <h1 class="title has-text-info">Loading...</h1>
    <span class="icon">
      <i class="fa fa-spinner fa-spin fa-3x has-text-info"></i>
    </span>
  </div>
</div>

<!-- Main content which is shown when data isn't loading -->
<ng-template #content>
  <!-- Search Bar -->
  <div class="columns">
    <div class="column is-4 is-offset-4">
      <input #filter type="text" (keyup)="filterLocations(filter.value)" class="input has-text-centered"
             placeholder="Search">
    </div>
  </div>

  <!-- Table -->
  <table class="table is-striped is-hoverable is-fullwidth">
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Email</th>
      <th>Phone</th>
      <th></th>
    </tr>
    <ng-container *ngFor="let loc of filteredLocations">
      <tr>
        <td>{{loc.name}}</td>
        <td>
          <p *ngFor="let line of loc.address">{{line}}</p>
        </td>
        <td>
          <a href="mailto:{{loc.email}}" class="link">{{loc.email}}</a>
        </td>
        <td>{{loc.phone}}</td>
        <td class="has-text-centered">
          <a routerLink="/admin/locations/{{loc._id}}" class="button is-link is-rounded">
            <span>More Details</span>
          </a>
        </td>
      </tr>
    </ng-container>

    <tr *ngIf="locations.length === 0">
      <td colspan="5">
        <p class="is-4 has-text-centered">No locations are available</p>
      </td>
    </tr>

  </table>
</ng-template>
